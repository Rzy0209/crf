webpackJsonp([1],[,,,,function(t,e,n){"use strict";e.__esModule=!0;var o=(e.PAGE_ID_CONFLICT_ERROR="Page Id 已存在",e.SYSTEM_ERROR="编辑工具发生内部错误，请联系管理员",e.NOT_LOAD_PAGE_ERROR="无法获取编辑页面信息",e.SAVE_SUCCESS="保存成功",e.OPER_SUCCESS="执行成功",e.OPER_FAIL="执行失败",e.FORM_TYPE="表单",e.EVENTS_CHECK_ERROR="事件名称或事件函数不可为空",e.MOVE_DIFF_LAYOUT_WARN="在不同种类布局之间无法调换控件",e.MAIN_LAYOUT_NAME="editor-layout",e.LAYOUT_PROPS="$layout",e.DEFUALT_METHOD_MODULE="$default",e.TEMP_MODULE_NAME="$temp-module",e.METHOD_ARGS_REG=/\([^\f\n\r\t\v]*\)/,e.V_FOR="v-for",e.V_BIND="v-bind",e.V_ON="v-on",e.ROW_SPLIT=";",e.COL_SPLIT=",",e.COPY_LAYOUT_LAST_ROW="copy-last-row",e.DELETE_LAYOUT_ROW="delete-row",e.PAGE_MODE=1,e.DIALOG_MODE=2,e.EVENTS_OPTION=function(t){this.widget="events",this.prop="$events",t&&(this.event=t)});e.PLUGIN_DEFAULT_OPTION=[{widget:"input",label:"标识(ref)",prop:"ref"},{widget:"input",label:"入参对象",prop:"v-bind",type:"object"},new o]},,function(t,e,n){"use strict";function o(t,e,n){for(var o,r=e.split("."),a=t,s=null==n?void 0:n.v,l=null==n?null:n.dv,u=0,c=r.length;u<c;u++){o=r[u];var d=u===c-1;!1===a.hasOwnProperty(o)&&(d?i.call(this,a,o,l):i.call(this,a,o,{})),d&&void 0!==s&&i(a,o,s),null!=a[o]||d||i.call(this,a,o,{}),a=a[o]}return{v:a}}function i(t,e,n){null==this?t[e]=n:this.$set(t,e,n)}function r(t){if(null!=t)return JSON.parse(JSON.stringify(t))}function a(t,e,n,i,r){s.call(this,t,e,n,i,r),"value"===r&&e.set("on",{input:function(t){o.call(this,n,i,{v:t}),this.$emit("input",t)}.bind(this)})}function s(t,e,n,i,r){var a=u(t),s={};s[r]=o.call(this,n,i,{dv:a}).v,e.set("props",s)}function l(t,e,n){if(n){o(e,n,{dv:u(t)})}}function u(t){return"array"===t?[]:"object"===t?{}:null}function c(){for(var t=[],e=0;e<4;e++)t.push({span:6});return t}function d(t,e){E.$message({message:e,type:t})}function p(t,e){e=e||"是否确定删除?",E.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t(),d("success","删除成功")}).catch(function(){})}function f(t,e){return!(!t||!e||e.length>t.length)&&t.substring(t.length-e.length)===e}function h(t){return v(t)?t.substr(1,t.length):t}function v(t){if("string"==typeof t)return":"===t.charAt(0)?b.V_BIND:"@"===t.charAt(0)?b.V_ON:void 0}function m(t){var e=v(t);return e===b.V_BIND?"props":e===b.V_ON?"on":"nativeOn"}function y(t){if(!t)return null;var e=arguments;return t.replace(C,function(t){var n=Number(t.substring(1,2))+1;return e[n]})}e.__esModule=!0,e.objectPath=o,e.deepClone=r,e.handleDataBind=a,e.createObjPath=l,e.createDefaultRow=c,e.message=d,e.deleteConfirm=p,e.strEndWith=f,e.getProps=h,e.propType=v,e.eventType=m,e.format=y;var g=n(1),_=function(t){return t&&t.__esModule?t:{default:t}}(g),w=n(4),b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(w),E=new _.default,C=/\{\d+?\}/g},,,function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function r(t){this.seq=-1,this.genKey=this.genKey.bind(this),"string"==typeof t||null==t?this.root=c.stardComp.create(t,this.genKey):t instanceof Object&&(this.root=(0,c.toEditVnode)(t,this.genKey)),this.root.genKey=this.genKey}function a(){return k}function s(){return this}e.__esModule=!0,e.Editor=e.EditorUtils=void 0;var l=n(1),u=i(l),c=n(32),d=n(6),p=o(d),f=n(12),h=i(f),v=n(4),m=o(v),y=n(35),g=o(y),_=n(33),w=i(_),b=n(34),E=i(b),C=new u.default,O={onDragStart:function(t){C.$on("drag-start",t)},onDragEnd:function(t){C.$on("drag-end",t)},emitItemClick:function(t){C.$emit("item-click",t)},onItemClick:function(t){C.$on("item-click",t)},onOptionsUpdate:function(t){C.$on("item-option-update",t)},emitOptionsUpdate:function(t){C.$emit("item-option-update",t)},emitItemDelete:function(t,e){C.$emit("item-delete",t,e)},onItemDelete:function(t){C.$on("item-delete",t)},emitLayoutChange:function(t){C.$emit("layout-change",t)},onLayoutChange:function(t){C.$on("layout-change",t)},clearEventBus:function(){C.$off()}};r.prototype.genKey=function(){return this.seq++},r.prototype.getData=function(){return this.root},r.prototype.findByKey=function(t,e){if(null!=t){if(t=Number(t),e||(e=this.root),e.key===t)return e;var n=void 0,o=void 0;for(var i in e.children)if(n=e.children[i],o=this.findByKey(t,n))return o}},r.prototype.updateVnodeOpts=function(t){if(t&&0!==t.length){var e=this.findByKey(t.root);e&&this.updateOpt(e,t)}},r.prototype.updateOpt=function(t,e){var n=this,o=t.key,i=e[o];i&&t.setOptions(i),t.children.forEach(function(t){n.updateOpt(t,e)})},r.prototype.getWidgetByKey=function(t){var e=[],n=this.findByKey(t);return n?this.getWidgetByNode(n):e},r.prototype.getWidgetByNode=function(t){var e=this,n=[],o=w.default.getCompAttr(),i=o[t.type];if(!i){var r=h.default.getPlugin(t.type);i=r&&r.options}return Array.isArray(i)&&i.forEach(function(e){var i=g.getOptByProp(e.prop,t.options),r=o["widget-order"][e.widget]||1;n.push({key:t.key,widget:e,opt:i,order:r})}),o["widget-limit"][t.type]?n:(t.children.forEach(function(t){var o=e.getWidgetByNode(t);n=n.concat(o)}),n.sort(function(t,e){return t.order-e.order}),n)},r.prototype.addLayout=function(t,e,n,o){if(null!=e){var i=this.findByKey(e),r=i.parent,a=r.children.indexOf(i);"down"===n&&a++}else r=this.root;var s=c.layoutComp.create(t,this.genKey);if(null!=o&&s.setAttr("slot",o),"form-layout"===t){var l=[];l.push(p.createDefaultRow()),s.options.push({prop:m.LAYOUT_PROPS,value:l})}r.addChild(s,a)},r.prototype.add=function(t,e,n){var o=this.findByKey(e);if(!o)throw new Error("zone item not found,key:"+e);if("new-row"===n){var i=o;n=i.type,o=c.layoutComp.updateLayout(i,this.genKey,m.COPY_LAYOUT_LAST_ROW)}var r=c.layoutComp.createItem(n,t,this.genKey);o.addChild(r),o.changed=!0},r.prototype.editLayout=function(t){var e=this.findByKey(t.layoutKey);c.layoutComp.updateLayout(e,this.genKey,t)},r.prototype.move=function(t,e,n,o){if(n!==o){if(t!==e)return void p.message("warning",m.MOVE_DIFF_LAYOUT_WARN);var i=this.findByKey(n),r=this.findByKey(o),a=i.children.length>0?i.children[0]:null,s=r.children.length>0?r.children[0]:null;r.children=[],i.children=[],r.changed=!0,i.changed=!0,a&&r.addChild(a),s&&i.addChild(s)}},r.prototype.deleteNodeByKey=function(t){var e=this.findByKey(t);if(null!=e){var n=e.parent,o=n.children.indexOf(e);e.parent.children.splice(o,1),e.parent.changed=!0}};var k=new s;s.prototype.init=function(t){(!t||!t.el|!t.id||!t.name)&&console.error("el、id、name cannot be null"),this.id=t.id,this.name=t.name,this.saveListener=t.saveListener,this.init_after&&this.init_after(t)},s.prototype.save=function(t,e,n){this.saveListener&&this.saveListener(e)},s.prototype.addApi=function(t,e){if(!t||0===t.length||!e)return void console.warn("Failed to register:name["+t+"],"+e);h.default.register(t,e)},s.prototype.addComp=function(t,e){if(!t||0===t.length||!e)return void console.warn("Failed to add component :name["+t+"],"+e);u.default.component(t,e);var n=void 0;n=e.plugin&&e.plugin.label?e.plugin.label:t;var o={label:n,tag:t};w.default.getComp().plugin[t]=o,c.stardComp[t]=o;var i=e.plugin||{options:[]};i.options||(i.options=[]),i.options=i.options.concat(m.PLUGIN_DEFAULT_OPTION),h.default.putPlugin(t,e.plugin)},s.prototype.getPages=function(t,e){h.default.getModulePage(t,e)},s.prototype.createForm=function(t){(new(E.default.buildPage(t.data))).$mount(t.el)},e.default=a,e.EditorUtils=O,e.Editor=r},,,function(t,e,n){"use strict";(function(t){function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){this.name=t,this.pages=e.map(function(e){return{parent:t,name:e,st:!1}})}function r(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var n=JSON.parse(e.responseText);_=[],n.forEach(function(t){_.push(new i(t.m,t.list))}),t(_)}},e.open("GET",v+"@"),e.send()}function a(t,e,n){var o=new XMLHttpRequest;o.onreadystatechange=c(o,n),o.open("POST",m+t+"/"+e.id),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(e))}function s(t,e,n){var o=new XMLHttpRequest,i=h.default.buildPageJs(e);o.onreadystatechange=c(o,function(t,e){n(t,e)}),o.open("POST",y+t),o.setRequestHeader("Content-Type","application/json");var r={id:e.id,tpl:h.default.entryTpl,data:i};o.send(JSON.stringify(r))}function l(t,e){var n={res:!0};for(var o in _){var i=_[o];t!==i&&(i.name===e&&(n.res=!1,n.msg="模块["+e+"]已存在"))}return n}function u(t,e,n){var o={res:!0};for(var i in _){if(_[i].pages.forEach(function(e){t!==e&&e.name===n&&(o.res=!1,o.msg="页面["+n+"]已存在")}),!o.res)break}return o}function c(t,e){return function(){if(4===t.readyState){var n=!0;200!==t.status&&(n=!1),e&&e(n,t.responseText)}}}e.__esModule=!0;var d=n(1),p=o(d),f=n(34),h=o(f),v="/dyn-editor/list/",m="/dyn-editor/page/",y="/dyn-editor/compile/",g={},_=void 0,w={},b={},E={};g.updatePageStatus=function(t){if(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===e.readyState&&200===e.status&&e.responseText){var n=h.default.getCompiledIds(e.responseText);_.forEach(function(e){e.name===t&&e.pages.forEach(function(t){n.indexOf(t.name)>=0&&(t.st=!0)})})}},e.open("GET",y+t),e.send()}},g.getModulePage=function(t,e){if(t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState&&200===n.status&&n.responseText){var t=h.default.compile(n.responseText);e(t)}},n.open("GET",y+t),n.send()}},g.updatePage=function(t,e,n){a(t,e,function(o,i){o?s(t,e,n):n(o,i)})},g.getList=function(t){if(!t)return _;r(t)},g.savePage=function(t,e,n,o,i){var r=new XMLHttpRequest;r.onreadystatechange=c(r,i);var a=void 0;if(n){a=u(t,e,n);var s=t?"/dyn-editor/u-p/"+t.parent+"/"+t.name+"/":m+e+"/";s+=n,r.open("POST",s)}else{a=l(t,e);var d=t?"/dyn-editor/u-m/"+t.name+"/":v;d+=e,r.open("GET",d)}!a||a.res?o?(r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(o))):r.send():i(!1,a.msg)},g.deletePage=function(t,e,n){var o=new XMLHttpRequest;o.onreadystatechange=c(o,n),e?o.open("DELETE",m+t+"/"+e):o.open("DELETE",v+t),o.send()},g.getPageInfo=function(t,e,n){var o=new XMLHttpRequest;o.onreadystatechange=c(o,function(t,e){t?n(t,JSON.parse(e)):n(t)}),o.open("GET",m+t+"/"+e),o.send()},g.register=function(t,e){b[t]=e},g.getModuleList=function(){var t=[];return Object.keys(b).forEach(function(e){t.push(e)}),t},g.getModuleMethods=function(t){var e=[],n=b[t];return null==n||null==n.methods?e:Object.keys(n.methods)},g.getModule=function(t){return b[t]},g.putPlugin=function(t,e){E[t]=e},g.getPlugin=function(t){return E[t]},g.regPage=function(t,e){t&&(w[t]=!1);try{e().forEach(function(t){if(!t.name)return void console.error(" page name can't be null");p.default.component(t.name,t.data),w[t.name]=!0})}catch(t){}},t._import=function(t){return g.getModule(t)},e.default=g}).call(e,n(5))},,,,,,,,,,,function(t,e,n){"use strict";function o(t,e){null==t&&(t={}),this.children=[],this.addChild(e),this.tag=t.tag,t.attr instanceof i?this.attr=t.attr:this.attr=new i(t.attr),this.type=t.type,this.key=t.key,this.defaultValue=t.defaultValue,Array.isArray(t.options)?this.options=(0,u.deepClone)(t.options):this.options=[],this.setDataPath(t.dataPath),this.slot=t.slot,this.dataType=t.dataType}function i(t){this.source=null==t?{}:(0,u.deepClone)(t)}function r(t,e,n,o){this.id=t,this.data=e,this.script=n,this.conf=o}function a(t,e){this.key=t,this.value=e}function s(t,e,n,o,i){this.key=t,this.span=e,this.xs=n,this.sm=o,this.md=i}function l(t,e,n){this.layoutKey=t,this.row=e,this.data=n}e.__esModule=!0,e.EditorCol=s,e.LayoutEditInfo=l;var u=n(6),c={createVnode:function(t,e){return new o(t,e)},createRoot:function(t,e){return new o(t,e)},createAttr:function(t){return new i(t)},createPageInfo:function(t,e,n,o){return new r(t,e,n,o)},createDirectives:function(t,e){return new a(t,e)}};o.prototype.addChild=function(t,e){var n=this;Array.isArray(t)?t.forEach(function(t){t.parent=n,n.children.push(t)},this):t instanceof o?(t.parent=this,null==e?this.children.push(t):this.children.splice(e,0,t)):"string"==typeof t&&this.children.push(t)},o.prototype.setAttr=function(t,e){1===arguments.length?this.attr.set("props",arguments[0]):this.attr.set(t,e)},o.prototype.getAttr=function(t,e){return this.attr.get(t,e)},o.prototype.delAttr=function(t,e){this.attr.del(t,e)},o.prototype.hasAttr=function(t,e){return this.attr.contains(t,e)},o.prototype.setOptions=function(t){var e=[];t.forEach(function(t){e.push(t.prop)}),this.options=this.options.filter(function(t){return e.indexOf(t.prop)<0}),this.options=this.options.concat(t),this.changed=!0},o.prototype.toData=function(){var t={};return t.tag=this.tag,t.attr=this.attr.native(),t.type=this.type,t.defaultValue=this.defaultValue,t.options=this.options,t.dataType=this.dataType,t.dataPath=this.dataPath,t.slot=this.slot,t.children=this.children.map(function(t){return t.toData()}),t},o.prototype.setDataPath=function(t){this.dataPath=t},o.prototype.addDataPath=function(t,e){null==this.dataPath&&(this.dataPath={}),this.dataPath[t]=e},o.prototype.getDataPath=function(t){return null==this.dataPath?null:this.dataPath[t]},o.prototype.setDirectives=function(t){this.directives=t},o.prototype.getDirectives=function(){return this.directives},i.prototype.native=function(){return Object.assign({},this.source)},i.prototype.set=function(t,e){if(null!=e)if(this.source[t]||(this.source[t]={}),e instanceof Object)for(var n in e)"$"!==n.charAt(0)&&(this.source[t][n]=e[n]);else this.source[t]=e},i.prototype.get=function(t,e){var n=this.source[t];return e&&n&&(n=n[e]),n},i.prototype.del=function(t,e){t&&(e?delete this.source[t][e]:delete this.source[t])},i.prototype.contains=function(t,e){return!!t&&(!!this.source.hasOwnProperty(t)&&(!e||this.source[t].hasOwnProperty(e)))},e.default=c},,,,,,,,,function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e,n){this.tag=t,this.attr=e,this.children=n}function r(t,e){return t===x.V_FOR||t&&e}function a(t,e,n,o){var a=e.options||[],l=b.default.createAttr(e.attr.native()),u=e.tag,d=void 0,h=!1;return a.forEach(function(t){var n=t.prop,i=t.value;r(n,i)&&("v-model"===n?y(e,i,!0):C.propType(n)===x.V_BIND||C.propType(i)===x.V_BIND?y(e,C.getProps(i)):"$children"===n?d=p(t.type,i):"$layout"===n?f(e,i,o):n===x.V_FOR?h=!0:c(l,n,i))}),h?null:(d||(d=[]),s(e),new i(u,l,d))}function s(t){if(null==t.changed||t.changed){var e=void 0;t.children.length>0&&(e=t.children[0].key),e&&t.hasAttr("props","compKey")&&t.setAttr("props",{compKey:e}),t.changed=!1}}function l(t){if("form-layout"===t.type||"tiled-layout"===t.type)t.tag="wn-container",t.delAttr("props");else if("editor-layout-col"===t.type)t.tag=L["layout-col"].tag,t.delAttr("props","nodeKey"),t.delAttr("props","layout"),t.delAttr("props","compKey");else if("dialog"===t.type)t.tag="el-dialog";else{if("editor-item"===t.type)return;if("editor-layout-row"===t.type)t.tag=L["layout-row"].tag,t.delAttr("props","layoutKey"),t.delAttr("props","row"),t.delAttr("props","data");else if("dyn-comp"===t.type){var e=M.delOptByProp("name",t.options);if(!e)return;var n=e.value;t.tag=n}}return t}function u(t,e){if("string"==typeof t)return t;if(t=l(t)){var n=t.options||[],o=void 0;return n.forEach(function(n){var i=n.prop,a=n.value;if(r(i,a))if("v-model"===i||C.propType(i)===x.V_BIND||C.propType(a)===x.V_BIND){var s=t.getDataPath(C.getProps(a));C.createObjPath(n.type,e,s);var l="v-model"===i?["value"]:C.getProps(i).split(".");k.compileDataBind(t,s,l)}else"$children"===i?o=p(n.type,a):i===x.V_FOR?d(t,e,a,n.type):i===x.V_BIND?(C.createObjPath(n.type,e,a),t.setDirectives(b.default.createDirectives(x.V_BIND,a))):"$events"===i?Array.isArray(a)&&a.forEach(function(e){k.compileEventListener(t,e.event,e.value)}):c(t.attr,i,a)}),null==o&&(o=[]),t.children=[],o.forEach(function(n){var o=u(n,e);t.addChild(o)}),t}}function c(t,e,n){if("ref"===e)return void t.set(e,n);var o=e.split(".");if(1===o.length&&o.splice(0,0,"props"),2!==o.length)throw new Error("not support props:"+e);var i={};i[o[1]]=n,t.set(o[0],i)}function d(t,e,n,o){C.createObjPath(o,e,n),t.setDirectives(b.default.createDirectives(x.V_FOR,n)),L[t.type][x.V_FOR].forEach(function(e){k.compileVforItem(t,e)})}function p(t,e){var n=void 0,o=[];return Array.isArray(e)?e.forEach(function(e){var i=t||e.$el;n=L.create(i),e.$children&&n.addChild(e.$children),n.setAttr("props",e),o.push(n)}):(n=e,o.push(n)),o}function f(t,e,n){null==e&&(e="");var o=R.getWrapperNode(t,n),i=o.children,r=e,a=[],s=[],l=[];if(r.forEach(function(e,o){var r=i[o];r||(r=L.create("editor-layout-row"),r.key=n()),a[o]=r;var u=r.children;s[o]=[],l[o]=[],e.forEach(function(e,i){var r=Number(e.span);if(!(isNaN(r)||r<=0)){var a=u[i];if(a||(a=L.create("editor-layout-col"),a.key=n()),null==t.changed||t.changed||null==a.changed||a.changed){var c=a.children.length>0?a.children[0].key:null;a.setAttr({nodeKey:a.key,layout:t.type,compKey:c}),a.setOptions([{prop:"span",value:r}]),a.changed=!1}l[o].push(new b.EditorCol(a.key,r)),s[o].push(a)}})}),(null==t.changed||t.changed)&&(o.children=[],a.forEach(function(e,n){e.children=[],e.setAttr({layoutKey:t.key,row:n+1,data:l[n]}),s[n].forEach(function(t){e.addChild(t)}),o.addChild(e)}),t.changed=!1),s.length>0)return s[s.length-1][0]}function h(t){if(!t)throw new Error("component name cannot be empty");if(!L[t])throw new Error("cannot get component name:["+t+"]")}function v(t,e){var n=L.create("form-item",e);return n.addChild(t),n}function m(t){if("form"===t.type){var e=t.options;null==e&&(e=[]);var n=void 0;return e.forEach(function(t){":model"===t.prop&&(n=t.value)}),n}return null==t.parent?null:m(t.parent)}function y(t,e,n){var o=void 0;n&&t.parent&&"form-item"===t.parent.type&&(o=m(t),t.parent.setAttr({prop:e}));var i=e;return null==o?t.addDataPath(i,e):t.addDataPath(i,o+"."+e),t.getDataPath(i)}function g(t,e){var n=b.default.createVnode(t);e&&(n.key=e());var o=n.getAttr("props");o&&o.nodeKey&&(o.nodeKey=n.key);var i=t.children.map(function(t){return g(t,e)});return n.addChild(i),n}function _(t,e){var n=[];t.children.forEach(function(t){var o=_(t,e);o&&n.push(o)});var o=b.default.createVnode(t),i=u(o,e);return i?(i.addChild(n),i):n.length>0?n[0]:null}e.__esModule=!0,e.handleEditorOptions=e.layoutComp=e.stardComp=void 0,e.toEditVnode=g,e.toStaticVnode=_;var w=n(23),b=o(w),E=n(6),C=o(E),O=n(61),k=o(O),A=n(4),x=o(A),P=n(35),M=o(P),D=n(33),T=function(t){return t&&t.__esModule?t:{default:t}}(D),L=T.default.getStardComp(),S=T.default.getFormComp();L.createEmpty=function(t){var e=b.default.createRoot({tag:"div"});return e.type="div",e.key=t(),e.setAttr("class",{"el-page-default":!0}),e},L.create=function(t,e){var n=this;if(null==t)return this.createEmpty(e);h(t);var o=L[t],i=b.default.createVnode(o);i.type=t,e instanceof Function&&(i.key=e());var r=o.children;return null!=r&&r.forEach(function(t){var o=n.create(t.el,e);i.addChild(o)},this),i};var R={};R.create=function(t,e){var n=L.create(t,e),o=n.tag;return n.tag=x.MAIN_LAYOUT_NAME,n.setAttr({layout:o,nodeKey:n.key}),n},R.getWrapperNode=function(t,e){if("form-layout"===t.type){if(0===t.children.length){var n=L.create("form",e);t.addChild(n)}return t.children[0]}return t},R.createItem=function(t,e,n){var o=L.create(e,n);if("form-layout"===t&&S.indexOf(e)>=0)o=v(o,n);else if("tiled-layout"===t){var i=L.create("editor-item",n);i.setAttr({nodeKey:i.key,compKey:o.key,isColumn:!1,layout:t}),"button"===e&&i.setAttr({isFull:!1}),i.addChild(o),o=i}return o},R.updateLayout=function(t,e,n){if(n){var o=this.getWrapperNode(t),i=M.getOptByProp(x.LAYOUT_PROPS,t.options).value;if(n===x.COPY_LAYOUT_LAST_ROW){var r=i.length>0?i[i.length-1]:C.createDefaultRow();i.push(C.deepClone(r))}else if(n.data===x.DELETE_LAYOUT_ROW)i.splice(n.row,1),o.children.splice(n.row,1);else{i[n.row]=n.data.row;var a=o.children[n.row],s=[];a.children.forEach(function(t){n.data.remove.indexOf(t.key)<0&&s.push(t)}),a.children=[],a.addChild(s)}return t.changed=!0,f(t,i,e)}},e.stardComp=L,e.layoutComp=R,e.handleEditorOptions=a},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(89),r=o(i),a=n(90),s=o(a),l=n(278),u=o(l),c=n(276),d=o(c),p=n(277),f=o(p),h=n(4),v=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(h),m=n(12),y=o(m),g={},_=[];Object.keys(s.default).forEach(function(t){Object.assign(g,s.default[t]),t===v.FORM_TYPE&&(_=_.concat(Object.keys(s.default[t])))}),Object.assign(g,u.default);for(var w in r.default)g[w]&&g[w].event&&r.default[w].push(new v.EVENTS_OPTION(w));e.default={getComp:function(){return s.default},getStardComp:function(){return g},getFormComp:function(){return _},getCompAttr:function(){return r.default},getEventList:function(t){return t=t||"common",d.default[t]||[]},getSelect:function(t,e){return"dyn-comp"===t&&(f.default[t]=[],y.default.getList().forEach(function(n){n.pages.forEach(function(n){n.name!==e&&f.default[t].push(n.name)})})),f.default[t]||[]}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function buildPageJs(t){var e=getRenderCompile(t),n=(0,_utils.format)(pageTpl,t.script,t.id,e.data,e.h);return(0,_utils.format)(comments,t.id,n)}function buildPage(t){return buildSinglePage(buildPageJs(t))[0].data}function buildSinglePage(t){var e=entryTpl.indexOf("/*add*/");return t=entryTpl.slice(0,e)+t+entryTpl.slice(e,entryTpl.length),compile(t)}function getCompiledIds(mouduleJs){var pageData=eval(mouduleJs);return pageData.map(function(t){return t.name})}function compile(mouduleJs){var pageData=eval(mouduleJs),res=[];return pageData.forEach(function(t){var e={},n=t.props||{};for(var o in t.data)n.hasOwnProperty(o)||(e[o]=t.data[o]);var i={name:t.name,data:function(){return e},render:function(e){return t.h.call(this,e,_nodeCompile.env)},methods:t.methods,created:t.created,mounted:t.mounted,beforeUpdate:t.beforeUpdate,props:t.props,watch:t.watch,computed:t.computed};res.push({name:i.name,data:_vue2.default.extend(i)})}),res}function getRenderCompile(t){var e=t.data;if(e){if("string"==typeof e&&(e=JSON.parse(e)),!(e instanceof Object))throw new Error("not supported domData type:"+e);var n={},o=(0,_component.toStaticVnode)(e,n),i=function(t,e){return void 0===e?null:e};return{data:JSON.stringify(n,i),h:_nodeCompile2.default.cpRenderFunstr(o)}}}exports.__esModule=!0;var _utils=__webpack_require__(6),_nodeCompile=__webpack_require__(61),_nodeCompile2=_interopRequireDefault(_nodeCompile),_vue=__webpack_require__(1),_vue2=_interopRequireDefault(_vue),_component=__webpack_require__(32),entryTpl="var pages=[];/*add*/(function(s){var r =[];s.forEach(function(p){r.push(p())});return r;})(pages)",comments="/*{0}*/{1}/*{0}*/",inputType="props:e.props,created:e.created,mounted:e.mounted,methods:e.methods,watch:e.watch,computed:e.computed",pageTpl="pages.push(function(){var exports;{0};var e=exports;return {name:'{1}',data:{2},"+inputType+",h:{3}}});";exports.default={buildPageJs:buildPageJs,buildPage:buildPage,compile:compile,entryTpl:entryTpl,buildSinglePage:buildSinglePage,getCompiledIds:getCompiledIds}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,o){this.prop=t,this.value=e,n&&(this.type=n),this.mode=o}function r(t,e){var n=s(t,e);if(n)return n.val}function a(t,e){var n=s(t,e);if(n)return e.splice(n.index,1),n.val}function s(t,e){if(Array.isArray(e))for(var n in e)if(e[n].prop===t)return{index:n,val:e[n]}}function l(t,e,n){return"input"===t.widget?this.renderInput(t,e,n):"select"===t.widget?this.renderSelect(t,e,n):"list"===t.widget?this.renderList(t,e,n):"events"===t.widget?this.renderEvents(t,e,n):"checkbox"===t.widget?this.renderCheckBox(t,e,n):"v-for"===t.widget?this.renderLoop(t,e,n):void 0}function u(t,e){if(this.show)return t("div",[t("div",{class:"widget-cate"},["属性"]),t("div",{style:"padding:5px"},[t("el-form",{attrs:{"label-width":"80px","label-position":"left"}},[e])])])}function c(t,e,n){var o=this,i=e.getValue?e.getValue():e.value,r=function(n){o.updateOptions(e,n,t)};return n("el-form-item",{attrs:{label:t.label}},[n("el-input",{attrs:{size:"small",value:i},on:{input:r}})])}function d(t,e,n){var o=this,i=e.getValue?e.getValue():e.value,r=x.default.getSelect(t.select,this.pageId).map(function(t){return n("el-option",{attrs:{value:t}})}),a=function(n){o.updateOptions(e,n,t)};return n("el-form-item",{attrs:{label:t.label}},[n("el-select",{attrs:{id:"event-select",value:i,clearable:!0},on:{input:a}},[r])])}function p(t,e,n){var o=this,i=e.value;Array.isArray(i)||(i=[]);var r=i.map(function(e,r){if(e.el!==t.el)throw new Error("Error for list widget,el value not match:"+t.el);var a=o.renderListItem(e.el,e.options,n);return n("div",{style:"border: solid white;padding:5px"},[n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(){o.listDelete(i,r)}}},["删除"]),a])}),a=function(){o.listAdd(i,t)};return n("div",{style:"height:100%"},[n("p",[t.label,n("el-button",{style:"position: absolute; right: 20px",attrs:{size:"small",type:"success"},on:{click:a}},["新增"])]),r])}function f(t,e,n){var o=this;return b.default[t].map(function(t){var a=r(t.prop,e);return null==a&&(a=new i(t.prop,t.defaultValue,t.lazy),e.push(a)),o.widgetRender(t,a,n)})}function h(t){t||(t={}),this.event=t.event||"",this.value=t.value||""}function v(t,e,n){var o=this,i=k.TEMP_MODULE_NAME,r=x.default.getEventList(t.event),a={},s=r.map(function(t){var e=t.type+t.event;return a[e]=t.param,n("el-option",{attrs:{value:e,label:t.event}},[n("span",{style:"float: left;font-weight: bold;"},[t.event]),n("span",{style:"float: right;color: #B38420"},["(",t.desc,")"])])}),l=function(){o.events.data.push(new h)},u=function(t,e){t.event=e.trim()},c=function(t,e){t.value=e},d=function(t){o.events.data.splice(t,1)},p=function(t,e){var n=C.default.getModuleMethods(i);n=t?n.filter(function(e){return e.toLowerCase().indexOf(t.toLowerCase())>-1}):[],e(n.map(function(t){return{value:t}}))},f=function(){var t=e.getValue();o.events.data=[],Array.isArray(t)&&t.length>0?t.forEach(function(t){o.events.data.push(new h(t))}):o.events.data=[new h],o.events.show=!0},v=function(){o.events.show=!1},m=function(){var n=!0;for(var i in o.events.data){var r=o.events.data[i];if(!r.event||!r.value){o.$message({message:k.EVENTS_CHECK_ERROR,type:"error"}),n=!1;break}}n&&(o.updateOptions(e,o.events.data,t),o.events.show=!1)},y=this.events.data.map(function(t,e){var i=a[t.event]?"函数("+a[t.event]+")":"事件函数";return n("div",{style:"width:100%; margin:5px"},[n("el-select",{attrs:{id:"event-select",value:t.event,placeholder:"事件名称",filterable:!0,"allow-create":!0},on:{input:u.bind(o,t)}},[s]),n("el-autocomplete",{attrs:{id:"method-select",value:t.value,placeholder:i,"fetch-suggestions":p},on:{input:c.bind(o,t)}}),n("el-button",{class:"el-icon-delete editor-icon-delete",on:{click:d.bind(o,e)}})])}),g=Array.isArray(e.getValue())?e.getValue().length:0,_=n("span",{style:"margin-left:14px"},["事件数(",g,")"]);return n("div",{class:"editor-attr-event editor-attr-pop"},[n("el-popover",{attrs:{trigger:"click",width:"430",value:this.events.show}},[n("span",{class:"editor-popover-title"},["事件列表"]),y,n("div",{class:"editor-footer"},[n("div",{class:"inline-editor-left"},[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:l}},["新增事件"])]),n("div",{class:"inline-editor-right"},[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:v}},["取消"]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:m}},["确定"])])])]),n("el-button",{on:{click:f},attrs:{size:"small"},class:"edit-main-button"},["事件定义"]),_])}function m(t,e,n){var o=this,i=e.getValue?e.getValue():e.value,r=function(n){1===e.mode&&":"!==n.charAt(0)&&(n=":"+n),o.updateOptions(e,n,t)},a=function(){1===e.mode?e.mode=null:e.mode=1,e.value=null};return n("div",[1===e.mode?n("el-form-item",{attrs:{label:t.label},class:"attr-switch-input"},[n("el-input",{attrs:{size:"small",value:i},on:{input:r}})]):n("el-checkbox",{class:"editor-attr-checkbox",attrs:{value:i},on:{input:r}},[t.label]),n("i",{class:"el-icon-information attr-switch",attrs:{title:"模式切换"},on:{click:a}})])}function y(t,e){var n=function(t,e,n){t[e]=n};return{default:function(o){var i=o.row[e];return t("el-input",{attrs:{value:i},on:{input:n.bind(this,o.row,e)}})}}}function g(t){t||(t={}),this.label=t.label||"",this.prop=t.prop||"",this.width=t.width||"",this["min-width"]=t["min-width"]||""}function _(t,e,n){var o=this;this.temp[t.type]||this.$set(this.temp,t.type,{data:[],show:!1});var i=this.temp[t.type],r=function(){i.data=[];var t=e.getValue();Array.isArray(t)&&t.length>0&&t.forEach(function(t){i.data.push(new g(t))}),i.show=!0},a=function(){i.data.push(new g)},s=function(t,e){i.data.splice(t,1)},l=function(){o.updateOptions(e,i.data,t),i.show=!1},u=function(){i.show=!1},c=t.data.map(function(t){return n("el-table-column",{attrs:{width:"90",label:t.label,"class-name":"editor-table-col"},scopedSlots:y(n,t.prop)})});return n("div",{class:"editor-attr-pop editor-attr-button"},[n("el-popover",{attrs:{trigger:"click",value:i.show}},[n("el-table",{attrs:{border:!0,data:i.data,"max-height":"320"}},[n("el-table-column",{attrs:{type:"index",width:"60",label:"序号"}}),c,n("el-table-column",{attrs:{width:"60",label:"操作"},scopedSlots:{default:function(t){return n("i",{class:"el-icon-delete editor-button editor-icon-delete",attrs:{title:"删除"},on:{click:s.bind(this,t.$index,t.row)}})}}})]),n("div",{class:"editor-footer"},[n("div",{class:"inline-editor-left"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:a}},["新增列"])]),n("div",{class:"inline-editor-right"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:u}},["取消"]),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:l}},["确定"])])])]),n("el-button",{on:{click:r},attrs:{size:"small"},class:"edit-main-button"},[t.label])])}e.__esModule=!0,e.Option=i,e.getOptByProp=r,e.delOptByProp=a,e.widgetRender=l,e.renderContainer=u,e.renderInput=c,e.renderSelect=d,e.renderList=p,e.renderListItem=f,e.renderEvents=v,e.renderCheckBox=m,e.renderLoop=_;var w=n(89),b=o(w),E=n(12),C=o(E),O=n(4),k=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(O),A=n(33),x=o(A);i.prototype.getValue=function(){return this.value}},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function o(t){var e=t.target,n=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,o=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;e.style.webkitTransform=e.style.transform="translate("+n+"px, "+o+"px)",e.setAttribute("data-x",n),e.setAttribute("data-y",o)}function i(t,e){return(0,u.default)(t).draggable({inertia:!0,autoScroll:!0,manualStart:e,onstart:function(t){}})}function r(t,e){return(0,u.default)(t).dropzone({accept:e,overlap:.1})}function a(){var t=i(".layout-draggable,.item-draggable",!0);return t.on("dragend",function(t){var e=t.target;e.parentNode.removeChild(e)}),t.on("dragmove",o),t.on("move",function(t){var e=t.interaction;if(e.pointerIsDown&&!e.interacting()){var n=t.currentTarget.cloneNode(!0);n.classList.add("clone-item"),t.currentTarget.parentNode.appendChild(n),e.start({name:"drag"},t.interactable,n)}}),t}function s(t){var e=i(".editor-item-move",!0);return e.on("dragmove",t),e.on("move",function(t){var e=t.interaction;if(e.pointerIsDown&&!e.interacting()){var n=t.currentTarget.cloneNode(!1);t.currentTarget.style.opacity=.5,t.currentTarget.style.background="#000",t.currentTarget.appendChild(n),n.style.position="absolute",n.style.top=t.offsetY+"px",n.style.left=t.offsetX+"px",n.style.width="50px",n.appendChild(document.createTextNode("移动控件")),e.start({name:"drag"},t.interactable,n)}}),e.on("dragend",function(t){var e=t.target;e.parentNode.style.opacity="",e.parentNode.style.background="",e.parentNode.removeChild(e)}),e}e.__esModule=!0,e.dragMoveListener=o,e.initDragItem=i,e.initDragZone=r,e.initCompDrag=a,e.initEditorItemDrag=s;var l=n(221),u=function(t){return t&&t.__esModule?t:{default:t}}(l)},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return O+t+O}function r(t,e,n){var o={},r=n[0];if(o[r]=i(k(A,e)),t.setAttr("props",o),"value"===r&&t.setAttr("on",{input:i(k(x,e))}),"sync"===n[1]){var a={};a["update:"+r]=i(k(P,e)),t.setAttr("on",a)}}function a(t,e,n){return"h('"+t+"',"+e+",["+n+"])"}function s(t){return JSON.stringify(t.attr.native()).replace(L,"")}function l(t){return null!=t.match(C.METHOD_ARGS_REG)}function u(t){var e=t.match(C.METHOD_ARGS_REG);e=e[0],e=e.substr(1,e.length-2);var n=e.split(",");n=n.map(function(t){return c(t)});var o="("+n+")";return t.replace(C.METHOD_ARGS_REG,o)}function c(t){return t=t.trim(),S.test(t)?"_vm."+t:t}function d(t,e,n){var o=b.eventType(e);if(e=b.getProps(e),n){var r={};if(l(n)){var a=u(n);r[e]=i(k(M,a))}else r[e]=i(k(A,n));t.setAttr(o,r)}}function p(t,e){var n={};n[e]=i("item."+e),t.setAttr("props",n)}function f(t){if(!t)throw new Error("vNode can't be null");if("string"==typeof t)return"'"+t+"'";var e=[];t.children.forEach(function(t){var n=f(t);if(n)return e.push(n)});var n=t.getDirectives();return n?h(n,t,e):a(t.tag,s(t),e)}function h(t,e,n){if(t.value)return C.V_FOR===t.key?v(t.value,e,n):C.V_BIND===t.key?m(t.value,e,n):void 0}function v(t,e,n){return k(D,t,a(e.tag,s(e),n))}function m(t,e,n){var o=s(e);return o=k(T,o,t),a(e.tag,o,n)}function y(t){return new Function("h","e",this.cpRenderCode(t))}function g(t){return"var _vm=this;return "+f(t)}function _(t){return"function(h,e){"+g(t)+"}"}e.__esModule=!0,e.env=void 0,e.compileDataBind=r,e.compileEventListener=d,e.compileVforItem=p;var w=n(6),b=o(w),E=n(4),C=o(E),O="%%",k=b.format,A="_vm.{0}",x="function (value) {_vm.{0}=value;_vm.$emit('input', value)}",P="function (value) {_vm.{0}=value}",M="function ($event) {_vm.{0}}",D="e._l(_vm.{0},function(item){return {1}})",T="e._b({0},_vm.{1})",L=(e.env={_l:function(t,e){return t&&t.length?t.map(function(t){return e(t)}):[]},_b:function(t,e){if(!e)return t;var n=void 0;for(var o in e)n=t.props||(t.props={}),o in n||(n[o]=e[o]);return t}},/"?%%"?/g),S=/^[A-Za-z]*$/g;e.default={cpRenderFunction:y,cpRenderCode:g,cpRenderFunstr:_}},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){function o(t){n(211)}var i=n(2)(n(135),n(265),o,"data-v-64426309",null);t.exports=i.exports},function(t,e,n){function o(t){n(204)}var i=n(2)(n(139),n(258),o,"data-v-152bd30d",null);t.exports=i.exports},function(t,e,n){function o(t){n(217)}var i=n(2)(n(140),n(271),o,"data-v-a14c143c",null);t.exports=i.exports},function(t,e){t.exports={"widget-limit":{form:!0,"tiled-layout":!0},"widget-order":{events:999},"form-layout":[{widget:"input",label:"容器标题",prop:"title"}],"tiled-layout":[{widget:"input",label:"容器标题",prop:"title"}],form:[{widget:"input",label:"标识(ref)",prop:"ref"},{widget:"input",label:"实体名称",prop:":model"},{widget:"input",label:"标签宽度",prop:"label-width"},{widget:"input",label:"表单验证",prop:":rules"}],"form-item":[{widget:"input",label:"表单标签",prop:"label"},{widget:"input",label:"标签宽度",prop:"label-width"}],input:[{widget:"input",label:"数据绑定",prop:"v-model"},{widget:"input",label:"占位文本",prop:"placeholder"},{widget:"select",label:"文本类型",prop:"type",select:"input-type"},{widget:"checkbox",label:"禁用",prop:"disabled"}],"radio-group":[{widget:"input",label:"数据绑定",prop:"v-model"},{widget:"v-for",label:"选项设置",prop:"$children",type:"radio",data:[{label:"值",prop:"label"},{label:"标签",prop:"$children"}]}],"checkbox-group":[{widget:"input",label:"数据绑定",prop:"v-model",type:"array"},{widget:"v-for",label:"选项设置",prop:"$children",type:"checkbox",data:[{label:"标签",prop:"label"}]}],select:[{widget:"input",label:"数据绑定",prop:"v-model"}],option:[{widget:"input",label:"列表绑定",prop:"v-for"}],button:[{widget:"input",label:"标签",prop:"$children"},{widget:"select",label:"样式类型",prop:"type",select:"button-type"}],table:[{widget:"input",label:"数据绑定",prop:":data",type:"array"},{widget:"checkbox",label:"纵向边框",prop:"border",defaultVal:!0},{widget:"checkbox",label:"斑马纹",prop:"stripe",defaultVal:!1},{widget:"checkbox",label:"支持单选",prop:"highlight-current-row",defaultVal:!0},{widget:"v-for",label:"表列设置",prop:"$children",type:"table-col",data:[{label:"列名称",prop:"label"},{label:"属性",prop:"prop"},{label:"最小宽度",prop:"min-width"},{label:"宽度",prop:"width"}]}],"dyn-comp":[{widget:"input",label:"标识(ref)",prop:"ref"},{widget:"select",label:"组件标识",prop:"name",select:"dyn-comp"},{widget:"input",label:"入参对象",prop:"v-bind",type:"object"}]}},function(t,e){t.exports={"布局":{"form-layout":{label:"表单布局",tag:"grid-layout"},"tiled-layout":{label:"平铺布局",tag:"tiled-layout"}},"基本":{button:{label:"按钮",tag:"el-button",options:[{prop:"$children",value:"按钮"}],event:!0}},"表单":{input:{label:"Input输入框",tag:"el-input",event:!0},"radio-group":{label:"Radio单选框",tag:"el-radio-group",options:[{prop:"$children",type:"radio",value:[{label:"选项1"},{label:"选项2"}]}],event:!0},"checkbox-group":{label:"Checkbox多选框",tag:"el-checkbox-group",options:[{prop:"$children",type:"checkbox",value:[{label:"选择1"},{label:"选择2"}]}],event:!0},select:{label:"Select选择器",tag:"el-select",children:[{el:"option"}],event:!0}},"数据":{table:{label:"表格",tag:"el-table",options:[{prop:"highlight-current-row",value:!0},{prop:"$children",type:"table-col",value:[{label:"列1"}]}],event:!0}},plugin:{"dyn-comp":{label:"动态组件",tag:"dyn-comp",event:!0}}}},function(t,e,n){"use strict";e.__esModule=!0,e.default={name:"default",mounted:function(){this.test={TXM:"txm",PATNAME:"123",selectData:[]},this.title="123",this.tt2=[{value:"1"},{value:"2"}]},methods:{close:function(t,e){console.log("close"),this.$visible=!1},reasonChange:function(){console.log("reasonChange"),this.test.selectData=[{NAME:"11"},{NAME:"2222"}]},save:function(t){console.log(t)}},watch:{visible:function(t){this.$emit("update:visible",t)},$attrs:function(t){var e=this;console.log(t),Object.keys(t).forEach(function(n){e[n]=t[n]},this)}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var i=n(252),r=o(i),a=n(9),s=o(a);n(203);var l=n(6),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),c=n(249),d=o(c),p=(0,s.default)(),f=function t(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.installed||(e.component("wn-html-editor",r.default),e.component("wn-container",d.default),e.prototype.$Editor=u)};p.install=f,p.component=function(){return r.default},t.exports=p},,function(t,e){},function(t,e,n){function o(t){n(210)}var i=n(2)(n(125),n(264),o,null,null);t.exports=i.exports},function(t,e,n){function o(t){n(205)}var i=n(2)(n(128),n(259),o,"data-v-32256d8e",null);t.exports=i.exports},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function r(t){this.cm=t;var e=this;this.cm.on("blur",function(t){e.save()}),this.cm.setOption("extraKeys",{"Shift-Ctrl-F":function(t){e.codeFormat()}})}function a(t,e){var n=e||b;return new r((0,u.default)(document.getElementById(t),{value:n,mode:"javascript",lineNumbers:!0,theme:"base16-dark",gutters:["CodeMirror-lint-markers"],lint:!0,autoCloseBrackets:!0,matchBrackets:!0}))}function s(t){try{var e=_.format(w,t);return new Function("require",e)(h.require)}catch(t){throw new Error("JS代码编译错误 ["+t+"]")}}e.__esModule=!0,e.default=a,e.codeCompile=s;var l=n(13),u=i(l),c=n(222),d=i(c),p=n(228),f=i(p);n(201),n(202),n(148),n(147),n(200),n(146),n(145),n(144);var h=n(12),v=i(h),m=n(4),y=o(m),g=n(6),_=o(g),w="var exports;{0}\nreturn exports;",b="exports={\nprops:{},\nmounted:function(){},\nmethods:{}\n\n\n};";window&&(window.JSHINT=f.default.JSHINT),r.prototype.getCode=function(){return this.cm.getDoc().getValue()},r.prototype.setCode=function(t){return this.cm.getDoc().setValue(t)},r.prototype.codeFormat=function(){var t=(0,d.default)(this.getCode());this.setCode(t)},r.prototype.save=function(){var t=void 0;try{t=s(this.getCode())}catch(t){_.message("error",t.toString()),console.error(t)}v.default.register(y.TEMP_MODULE_NAME,t)}},function(t,e,n){"use strict";(function(t){function e(t){return t&&t.__esModule?t:{default:t}}var o=n(1),i=e(o),r=n(95),a=e(r),s=n(93),l=e(s);n(94);var u=n(92),c=e(u),d=n(91),p=e(d),f=n(96),h=e(f);t._dynEditor=c.default,i.default.config.productionTip=!1,i.default.use(l.default),i.default.use(c.default),c.default.addApi(p.default.name,p.default),c.default.addComp(h.default.name,h.default),c.default.init_after=function(t){new i.default({el:t.el,template:"<App/>",components:{App:a.default}})}}).call(e,n(5))},function(t,e,n){"use strict";e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(9),r=n(6),a=n(35),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a);e.default={name:"CompAttrView",props:{pageId:null},data:function(){return{options:{},widgets:[],show:!0,change:!1,events:{show:!1,data:[]},temp:{}}},render:function(t){var e=void 0;return Array.isArray(this.widgets)&&(e=this.drawWidgets(t)),this.renderContainer(t,e)},methods:{widgetRender:s.widgetRender,renderContainer:s.renderContainer,renderInput:s.renderInput,renderList:s.renderList,renderListItem:s.renderListItem,renderEvents:s.renderEvents,renderCheckBox:s.renderCheckBox,renderLoop:s.renderLoop,renderSelect:s.renderSelect,updateOptions:function(t,e,n){var o="string"==typeof e?e.trim():e;t.value=o,this.optionsUpdate()},drawWidgets:function(t){var e=[];return this.widgets.forEach(function(n){var o=n.widget,i=s.getOptByProp(o.prop,this.options[n.key]);e.push(this.widgetRender(o,i,t))},this),e},init:function(t,e){if(this.options.root!==t){if(null==t)return void this.clean();this.options={root:t},Array.isArray(e)&&(this.widgets=e,e.forEach(function(t){var e=t.key,n=t.opt,i=t.widget,a=n&&n.value?n.value:i.defaultVal;"object"===(void 0===a?"undefined":o(a))&&(a=(0,r.deepClone)(a));var l=n?n.mode:null,u=new s.Option(i.prop,a,i.type,l);this.options.hasOwnProperty(e)?this.options[e].push(u):this.$set(this.options,e,[u])},this),this.refreshView())}},refreshView:function(){this.show=!1,this.$nextTick(function(){this.show=!0})},listDelete:function(t,e){t.splice(e,1),this.optionsUpdate(),this.refreshView()},listAdd:function(t,e){t.push({el:e.el,options:[]}),this.optionsUpdate(),this.refreshView()},remove:function(t){var e=this.options.root;return e===t&&this.clean(),e},clean:function(){this.options={},this.widgets=[],this.moduleName=null,this.events={show:!1,data:[]},this.temp={},this.refreshView()},optionsUpdate:function(){i.EditorUtils.emitOptionsUpdate(this.options)}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){"select"===t.type&&e.set("props",{value:""})}e.__esModule=!0;var r=n(32),a=n(255),s=o(a),l=n(87),u=o(l),c=n(253),d=o(c),p=n(86),f=o(p),h=n(256),v=o(h),m=n(247),y=o(m);e.default={name:"EditorDynView",components:{"editor-layout":s.default,"tiled-layout":u.default,"ui-editor-item":d.default,"editor-dialog-container":f.default,"editor-row":v.default,"dyn-comp":y.default},props:{vNode:{type:Object,default:function(){return null}}},data:function(){return{data:{}}},render:function(t){if(this.vNode)return this.createElement(t,this.vNode)},mounted:function(){},methods:{createElement:function(t,e){if(null==e)throw new Error("vNode can't be null");if("string"==typeof e)return e;var n=(0,r.handleEditorOptions)(this,e,this.data,this.vNode.genKey);if(n){var o=e.children.concat(n.children),a=o.map(function(e){return this.createElement(t,e)},this);return i(e,n.attr),t(n.tag,n.attr.native(),a)}}}}},function(t,e,n){"use strict";e.__esModule=!0,e.default={name:"app"}},function(t,e,n){"use strict";e.__esModule=!0,e.default={name:"DynComp",props:{name:""},computed:{hasName:function(){return!!this.name}}}},function(t,e,n){"use strict";e.__esModule=!0,e.default={name:"editor-header",methods:{onSwitch:function(){this.$emit("switch")}}}},function(t,e,n){"use strict";e.__esModule=!0;var o={label:"条形码",options:[]};e.default={name:"TestComp",plugin:o,props:{TXM:"",PATNAME:"",selectData:{type:Array}},data:function(){return{show:!1}},methods:{showClick:function(){console.log(this.selectData),this.show=!this.show}}}},function(t,e,n){"use strict";e.__esModule=!0,e.default={name:"WnContainer",props:{title:""},computed:{showHeader:function(){return!!this.title}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var r=n(60),a=i(r),s=n(90),l=o(s),u=n(12),c=(o(u),n(6)),d=(i(c),n(4)),p=(i(d),n(23));o(p);e.default={name:"CompView",data:function(){return{groups:[]}},mounted:function(){this.initDragableItems(),a.initCompDrag()},methods:{initDragableItems:function(){var t=this;Object.keys(l.default).forEach(function(e){var n=l.default[e],o=[];Object.keys(n).forEach(function(t){var e=n[t];e.hidden||o.push({type:t,label:e.label})});var i="plugin"===e?"扩展组件":e;t.groups.push({name:i,items:o})})}}}},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r,a,s=n(9),l=i(s),u=n(124),c=i(u),d=n(86),p=i(d),f=n(60),h=o(f),v=n(4),m=o(v),y=n(12),g=(i(y),n(23)),_=i(g),w=n(121),b=i(w),E=[];e.default={name:"ContainerView",props:{id:{required:!0}},data:function(){return{vNode:null,reviewWidth:1280,show:!0,zoomPercent:0,savePOShow:!1,isNew:!0,previewShow:!1,type:null,mode:"",disabled:!1}},components:{"editor-dyn-container":c.default,"editor-dialog-container":p.default},mounted:function(){this.initData()},destroyed:function(){r=null,E.forEach(function(t){t.unset()}),E=[]},methods:{initData:function(){var t=this;this.id.name=(0,l.default)().name,this.id.key=(0,l.default)().id,t.createEditor(),t.ready()},ready:function(t){this.type=this.type||this.pageType,s.EditorUtils.onItemClick(this.itemClick),s.EditorUtils.onItemDelete(this.itemDelete),s.EditorUtils.onOptionsUpdate(this.updateOptions),s.EditorUtils.onLayoutChange(this.updateLayout),this.mode="html",a=(0,b.default)("jsContainer",t),this.$nextTick(function(){this.calculateZoompercet(this.reviewWidth)})},createEditor:function(t){t||this.type!==m.DIALOG_MODE||(t="dialog"),r=new s.Editor(t),this.vNode=r.getData(),this.initDragAction()},initDragAction:function(){E.push(h.initEditorItemDrag(this.dragMoveListener)),E.push(this.initDragLayoutZone()),E.push(this.initDragItemZone()),E.push(this.initDragItemMove())},calculateZoompercet:function(t){var e=document.getElementById("mainContainer").offsetWidth;this.zoomPercent=e>=t?1:e/t},dragMoveListener:function(t){var e=t.target,n=(parseFloat(e.getAttribute("data-x"))||0)+t.dx/this.zoomPercent,o=(parseFloat(e.getAttribute("data-y"))||0)+t.dy/this.zoomPercent;e.style.webkitTransform=e.style.transform="translate("+n+"px, "+o+"px)",e.setAttribute("data-x",n),e.setAttribute("data-y",o)},initDragLayoutZone:function(){var t=this,e=h.initDragZone(".editor-layout-zone,.container-layout-zone",".layout-draggable");return e.on("dragenter",this.dragZoneEnter),e.on("drop",function(e){var n=e.target;n.classList.remove("drop-enter");var o=e.relatedTarget.getAttribute("type"),i=n.getAttribute("nodekey"),a=n.getAttribute("action"),s=n.getAttribute("slot-name");r.addLayout(o,i,a,s),t.dragZoneLeave(e)}),e.on("dragleave",this.dragZoneLeave),e},initDragItemZone:function(){var t=h.initDragZone(".item-zone,.item-zone-empty",".item-draggable");return t.on("dragenter",this.dragZoneEnter),t.on("drop",function(t){var e=t.target;e.classList.remove("drop-enter");var n=e.getAttribute("nodekey"),o=e.getAttribute("layout"),i=t.relatedTarget.getAttribute("type");r.add(i,n,o)}),t.on("dragleave",this.dragZoneLeave),t},initDragItemMove:function(){var t=h.initDragZone(".editor-item",".editor-item-move");return t.on("dragenter",this.dragZoneEnter),t.on("drop",function(t){var e=t.target;e.classList.remove("drop-enter");var n=e.getAttribute("nodekey"),o=e.getAttribute("layout"),i=t.relatedTarget.getAttribute("nodekey"),a=t.relatedTarget.getAttribute("layout");r.move(o,a,i,n)}),t.on("dragleave",this.dragZoneLeave),t},dragZoneEnter:function(t){t.target.classList.add("drop-enter")},dragZoneLeave:function(t){t.target.classList.remove("drop-enter")},itemClick:function(t){var e=r.getWidgetByKey(t);this.$parent.$refs.attrView.init(t,e)},itemDelete:function(t,e){r.deleteNodeByKey(t);var n=this.$parent.$refs.attrView,o=n.remove(e);null!=o&&this.$nextTick(function(){s.EditorUtils.emitItemClick(o)})},updateOptions:function(t){r.updateVnodeOpts(t)},updateLayout:function(t){r.editLayout(t)},blankClick:function(){s.EditorUtils.emitItemClick()},preview:function(){var t=this.createPageInfo();this.$emit("preview",t)},save:function(){var t=this.createPageInfo(),e=this;(0,l.default)().save(this.id.module,t,function(t,n){if(t)t&&(e.$Editor.message("success",m.SAVE_SUCCESS),e.isNew=!1,e.$emit("savePage",e.pageId),e.savePOShow=!1);else{var o=n||m.SYSTEM_ERROR;e.$Editor.message("warning",o)}})},createPageInfo:function(){var t=this.vNode.toData(),e=a.getCode(),n={type:this.type,width:this.reviewWidth};return _.default.createPageInfo(this.id.key,t,e,n)},switchMode:function(){this.mode="html"===this.mode?"code":"html"}},watch:{reviewWidth:function(t){this.calculateZoompercet(t)}},computed:{itemContainerStyle:function(){var t=document.getElementById("eidtor-content"),e=t?(t.offsetHeight-46)/this.zoomPercent-5:0,n={transform:"scale("+this.zoomPercent+")",width:this.reviewWidth+"px",height:e+"px"};return this.zoomPercent<1?n["transform-origin"]="0 0":n.height="100%",n}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(248),r=o(i),a=n(250),s=o(a),l=n(251),u=o(l),c=n(123),d=o(c),p=n(9),f=o(p),h=n(254),v=o(h),m=n(4);e.default={name:"editorFrame",props:{header:{type:Boolean,default:!0}},data:function(){return{conShow:!0,attrShow:!0,key:{},testShow:!1,showEditor:!0,showPreview:!1}},components:{preview:v.default,"comp-view":s.default,"editor-header":r.default,"container-view":u.default,"comp-attr-view":d.default},destroyed:function(){p.EditorUtils.clearEventBus()},methods:{initEditor:function(t){t.pageId&&this.key.pageId!==t.pageId&&(this.key=Object.assign({},t),this.refreshEditorPage())},refreshEditorPage:function(){this.conShow=!1,this.attrShow=!1,p.EditorUtils.clearEventBus(),this.$nextTick(function(){this.conShow=!0,this.attrShow=!0})},onTestSwitch:function(){this.showEditor=!this.showEditor,this.testShow=!this.testShow,this.testShow&&this.$nextTick(function(){(0,f.default)().createForm({el:"#test-container",data:JSON.parse(sessionStorage.getItem("data"))})})},onPreview:function(t){t.conf.type!==m.DIALOG_MODE&&(this.showEditor=!1),this.showPreview=!1,this.$nextTick(function(){this.showPreview=!0,this.$nextTick(function(){this.$refs.preview.open(t)})})},closePreview:function(){this.showEditor=!0,this.showPreview=!1}}}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(9);e.default={name:"EditorItem",props:{span:{type:Number},nodeKey:{type:Number,required:!0},compKey:{type:Number},layout:{type:String},isColumn:{type:Boolean,default:!0},isFull:{type:Boolean,default:!0}},data:function(){return{mouseEnter:!1,focus:!1,empty:this.compKey}},mounted:function(){o.EditorUtils.onItemClick(this.clickListener)},methods:{click:function(){this.focus=!0,o.EditorUtils.emitItemClick(this.compKey)},clickListener:function(t){this.compKey!==t?this.focus=!1:null!=this.compKey&&(this.focus=!0)},deleteItem:function(t){o.EditorUtils.emitItemDelete(t,this.compKey)}},computed:{itemClass:function(){var t=void 0;return null==this.compKey?t="item-zone":this.mouseEnter||this.focus?this.focus?t="item-mouse-focus-over":this.mouseEnter&&(t="item-mouse-over"):t="",t},focusCls:function(){if(this.mouseEnter||this.focus)return"editor-item-wrap-enter"},dragCls:function(){return null==this.compKey?"":"editor-item-move"},displayCls:function(){if(!this.isFull)return"editor-inline"},showDelete:function(){return!(null==this.compKey||!this.mouseEnter)}}}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(34),i=function(t){return t&&t.__esModule?t:{default:t}}(o),r=n(4);e.default={name:"preview",data:function(){return{width:0,pageType:"",dialogMode:r.DIALOG_MODE}},mounted:function(){},methods:{open:function(t){try{this.width=t.conf.width;var e=i.default.buildPage(t),n=new e;this.pageType=t.conf.type,this.$nextTick(function(){this.mount(n)})}catch(t){console.error(t),this.$Editor.message("error",t.toString())}},handleClose:function(t){t()},mount:function(t){this.pageType===this.dialogMode&&(t.visible=!0),t.$mount("#pagePre")},close:function(){this.$emit("close")}}}},function(t,e,n){"use strict";e.__esModule=!0,e.default={name:"dialogContainer"}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(9),r=n(257),a=o(r),s=n(87),l=o(s),u=n(88),c=o(u);e.default={name:"editorLayout",components:{"zone-item":c.default,"grid-layout":a.default,"tiled-layout":l.default},props:{nodeKey:{type:Number,required:!0},layout:{type:String,required:!0},title:""},data:function(){return{mouseEnter:!1,focus:!1,showDelete:!0}},mounted:function(){i.EditorUtils.onItemClick(this.clickListener)},methods:{click:function(){this.focus=!0,i.EditorUtils.emitItemClick(this.nodeKey)},clickListener:function(t){this.nodeKey!==t?this.focus=!1:this.focus=!0},deleteLayout:function(){var t=this;this.$Editor.deleteConfirm(function(){i.EditorUtils.emitItemDelete(t.nodeKey)},"是否删除布局？")}},computed:{layoutClass:function(){return this.mouseEnter||this.focus?this.focus?"layout-focus":"layout-mouse-over":""},settingMessage:function(){}}}},function(t,e,n){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var i=n(9),r=n(23),a=o(r),s=n(4),l=o(s);e.default={name:"EditorRow",props:{layoutKey:{type:Number,required:!0},row:{type:Number,required:!0},data:{type:Array,required:!0}},data:function(){return{mouseEnter:!1,showEdit:!1,removeList:[],rowData:[]}},methods:{test:function(t,e,n){console.log(t,e,n)},edit:function(){this.showEdit=!0,this.rowData=Object.assign([],this.data)},deleteRow:function(){var t=this;this.$Editor.deleteConfirm(function(){var e=new a.LayoutEditInfo(t.layoutKey,t.row-1,l.DELETE_LAYOUT_ROW);i.EditorUtils.emitLayoutChange(e)},"是否删除行？")},valueInput:function(t,e,n){t[e]=Number(n)},addCol:function(){this.rowData.push({span:null})},deleteCol:function(t,e){this.rowData.splice(t,1),e.key&&this.removeList.push(e.key)},cancel:function(){this.done()},confirm:function(){if(this.validate()){var t={remove:this.removeList,row:this.rowData},e=new a.LayoutEditInfo(this.layoutKey,this.row-1,t);i.EditorUtils.emitLayoutChange(e),this.done()}},done:function(){this.removeList=[],this.showEdit=!1,this.mouseEnter=!1,this.rowData=[]},validate:function(){var t=void 0,e=0;for(var n in this.rowData){if(t=this.rowData[n].span,isNaN(t)||t<=0)return this.$Editor.message("warning","栅格列数必须是数字并且大于0"),!1;e+=t}return!(e>24)||(this.$Editor.message("warning","栅格列数总数不能大于24"),!1)}}}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(88),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default={name:"GridLayout",props:{nodeKey:null},components:{"zone-item":i.default}}},function(t,e,n){"use strict";e.__esModule=!0,e.default={name:"TiledLayout",data:function(){return{showTip:!0}}}},function(t,e,n){"use strict";e.__esModule=!0,e.default={name:"LayoutItem"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAB00lEQVRIiaXVPWgUURQF4M+walzCRjSdYmNjs2AnQhALEVEQAqkEW8HaTsRCi1Q2CoKFjWClYBMMEm3shIBCIJ3gL4L4FwVNongt5o1MNjOzM3rgsjtn7zvn3ftm7xMRGsS2iLgWEd8i4kdE3I6IHU3WNhHvRsSj2IhnETHxvwZV4o1NNkWEGmzGGHp4kbhJLBVyvmO1SqBTp46f+IzfBe5r4hqhrIIurmMXnuACxvEl/f4GayVarzGND+vYkp7PF3o8m/jxmnMo4mlE7CxqFlvUlfX3Dn7hWEXVl/C2piuH8BgfixV0I+JBREym55maCvpD3rx+sZIORnEPR3G5Zmc5pnGwhP+Eu+n7fjzE4Q5mknhTXKzgFwsGucnVDk63EGfjW9TDREXu1IjsQNvgOPYWoqoiWBnBbEuDNrg1gnNYaLHoPp7j5JC8OZzvYBlHZKfeBLvT59gQ8Sms5X+03KQ3kNjHDWxpaA6vkvgq64fdcooi9uBMC/Fc5y+qpumibGSU4YRsrAxiqYRrdKMNxss0Mk6l57MRMRcRo2X5w+6DPvYNcPnuD8jui/eynq/8SwXbI2KhZjxX7jyPJi2pMhkq3tQgH9c3I+JdOoMrEbG1ydo/RD3/BnurLhsAAAAASUVORK5CYII="},,function(t,e,n){function o(t){n(216)}var i=n(2)(n(126),n(270),o,"data-v-7e57f140",null);t.exports=i.exports},function(t,e,n){function o(t){n(219)}var i=n(2)(n(127),n(273),o,"data-v-e1f17f5c",null);t.exports=i.exports},function(t,e,n){function o(t){n(214)}var i=n(2)(n(129),n(268),o,"data-v-7057a0a2",null);t.exports=i.exports},function(t,e,n){function o(t){n(212)}var i=n(2)(n(130),n(266),o,"data-v-65df46c6",null);t.exports=i.exports},function(t,e,n){function o(t){n(209)}var i=n(2)(n(131),n(263),o,"data-v-5450eac4",null);t.exports=i.exports},function(t,e,n){function o(t){n(206)}var i=n(2)(n(132),n(260),o,null,null);t.exports=i.exports},function(t,e,n){function o(t){n(218)}var i=n(2)(n(133),n(272),o,"data-v-d0e973dc",null);t.exports=i.exports},function(t,e,n){function o(t){n(215)}var i=n(2)(n(134),n(269),o,"data-v-7a75d366",null);t.exports=i.exports},function(t,e,n){function o(t){n(208)}var i=n(2)(n(136),n(262),o,"data-v-4086627a",null);t.exports=i.exports},function(t,e,n){function o(t){n(207)}var i=n(2)(n(137),n(261),o,"data-v-3af13430",null);t.exports=i.exports},function(t,e,n){function o(t){n(213)}var i=n(2)(n(138),n(267),o,"data-v-69822fd3",null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor-layout item-zone",attrs:{layout:"tiled-layout"}},[t._t("default",[n("div",{staticClass:"tip"},[t._v("平铺布局")])])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",{staticClass:"refuseForm-h2"},[t._v("\n        条形码:"+t._s(t.TXM)+"\n        "),n("span",[t._v("【"+t._s(t.PATNAME)+"】")])]),t._v(" "),n("h2",{staticClass:"refuseForm-reason"},[t._v("拒绝原因：\n        "),n("i",{on:{click:t.showClick}},[t._v("选择原因")])]),t._v(" "),t.show?n("ul",{on:{click:t.showClick}},t._l(t.selectData,function(e,o){return n("li",{key:o},[t._v(t._s(e.NAME))])}),0):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor-full"},[t.header?n("editor-header",{on:{switch:t.onTestSwitch}}):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showEditor,expression:"showEditor"}],staticClass:"editor-content",attrs:{id:"eidtor-content"}},[n("comp-view",{ref:"compView",staticClass:"comp-container"}),t._v(" "),t.conShow?n("container-view",{attrs:{id:t.key},on:{preview:t.onPreview}}):t._e(),t._v(" "),t.attrShow?n("comp-attr-view",{ref:"attrView",staticClass:"attr-container",attrs:{pageId:t.key.pageId}}):t._e()],1),t._v(" "),t.showPreview?n("preview",{ref:"preview",on:{close:t.closePreview}}):t._e(),t._v(" "),t.testShow?n("div",[n("div",{attrs:{id:"test-container"}})]):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[n("div",{staticClass:"editor-row-setting",on:{mouseenter:function(e){t.mouseEnter=!0},mouseleave:function(e){t.mouseEnter=!1}}},[t.showEdit?n("el-popover",{attrs:{trigger:"click",value:!0}},[n("span",{staticClass:"editor-popover-title"},[t._v("行号:"+t._s(t.row))]),t._v(" "),n("el-table",{attrs:{border:"",data:t.rowData},on:{"row-click":function(e){return t.test(t.layoutKey,e,e)}}},[n("el-table-column",{attrs:{type:"index",width:"60",label:"序号"}}),t._v(" "),n("el-table-column",{attrs:{width:"90",label:"栅格列数","class-name":"editor-table-col"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{value:e.row.span},on:{input:function(n){return t.valueInput(e.row,"span",n)}}})]}}],null,!1,1118579056)}),t._v(" "),n("el-table-column",{attrs:{width:"60",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("i",{staticClass:"el-icon-delete editor-button editor-icon-delete",attrs:{title:"删除"},on:{click:function(n){return t.deleteCol(e.$index,e.row)}}})]}}],null,!1,1066403856)})],1),t._v(" "),n("div",{staticClass:"editor-footer"},[n("div",{staticClass:"inline-editor-left"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.addCol}},[t._v("新增列")])],1),t._v(" "),n("div",{staticClass:"inline-editor-right"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.confirm}},[t._v("确定")])],1)])],1):t._e(),t._v(" "),t.mouseEnter?n("div",[n("i",{staticClass:"el-icon-setting editor-button",attrs:{title:"行编辑"},on:{click:t.edit}}),t._v(" "),n("i",{staticClass:"el-icon-delete editor-button editor-icon-delete",attrs:{title:"行删除"},on:{click:t.deleteRow}})]):t._e()],1),t._v(" "),t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("zone-item",{staticClass:"editor-layout-zone",attrs:{nodekey:t.nodeKey,action:"up"}}),t._v(" "),n("wn-container",{attrs:{title:t.title}},[n("div",{class:["layout-click-zone",t.layoutClass],attrs:{slot:"header"},on:{click:function(e){return e.stopPropagation(),t.click(e)},mouseenter:function(e){t.mouseEnter=!0},mouseleave:function(e){t.mouseEnter=!1}},slot:"header"},[t.mouseEnter||t.focus?n("span",[t._v("设置")]):t._e(),t._v(" "),t.mouseEnter?n("i",{staticClass:"el-icon-delete editor-button editor-icon-delete",attrs:{title:"删除"},on:{click:function(e){return e.stopPropagation(),t.deleteLayout(e)}}}):t._e()]),t._v(" "),n(t.layout,{tag:"component",attrs:{nodeKey:t.nodeKey}},[t._t("default")],2)],1),t._v(" "),n("zone-item",{staticClass:"editor-layout-zone",attrs:{nodekey:t.nodeKey,action:"down"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"canvas-container",attrs:{id:"mainContainer"}},[n("div",{staticClass:"editor-title"},[n("span",{staticClass:"page-id"},[t._v(t._s(t.id.name))]),t._v(" "),n("div",{staticClass:"editor-choose-width"},[n("span",[t._v("实际屏宽")]),t._v(" "),n("el-select",{staticStyle:{width:"80px"},attrs:{placeholder:"屏宽(px)"},model:{value:t.reviewWidth,callback:function(e){t.reviewWidth=e},expression:"reviewWidth"}},[n("el-option",{attrs:{value:414,label:"iPone6 Plus"}}),t._v(" "),n("el-option",{attrs:{value:740}}),t._v(" "),n("el-option",{attrs:{value:768,label:"iPad"}}),t._v(" "),n("el-option",{attrs:{value:960}}),t._v(" "),n("el-option",{attrs:{value:1080}}),t._v(" "),n("el-option",{attrs:{value:1280}})],1)],1),t._v(" "),n("div",{staticClass:"editor-title-button"},[n("el-button",{attrs:{size:"small",type:"success",disabled:t.disabled},on:{click:t.switchMode}},[t._v(t._s("html"===t.mode?"JS代码":"页面编辑"))]),t._v(" "),n("el-button",{attrs:{size:"small",type:"success",disabled:t.disabled},on:{click:t.preview}},[t._v("预览")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"success",disabled:t.disabled},on:{click:t.save}},[t._v("保存")])],1)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"html"===t.mode,expression:"mode==='html'"}],class:{normal:t.zoomPercent>=.8},attrs:{id:"editorContainer"},on:{click:t.blankClick}},[n("div",{staticClass:"container-layout-zone",style:t.itemContainerStyle,attrs:{id:"itemContainer"}},[t.show?n("editor-dyn-container",{attrs:{vNode:t.vNode}}):t._e()],1)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.mode||"code"===t.mode,expression:"!mode||mode==='code'"}],attrs:{id:"jsContainer"}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("wn-html-editor")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("wn-dialog",{staticStyle:{width:"100%",position:"inherit"},attrs:{title:"title",visible:!0,modal:!1,"modal-append-to-body":!1,size:"full"}},[n("div",{staticClass:"container-layout-zone"},[t._t("default",[n("div",{staticClass:"slot-tip tip",staticStyle:{height:"100px"}},[t._v("body")])])],2),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("div",{staticClass:"container-layout-zone",attrs:{"slot-name":"footer"}},[t._t("footer",[n("div",{staticClass:"slot-tip tip"},[t._v("footer")])])],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"frame-west"}},t._l(t.groups,function(e,o){return n("div",{key:o},[n("div",{staticClass:"widget-group"},[t._v(" "+t._s(e.name))]),t._v(" "),t._l(e.items,function(e){return n("div",{key:e.type,staticClass:"widget-item"},[n("a",{class:e.type.indexOf("layout")>=0?"layout-draggable":"item-draggable",attrs:{type:e.type}},[n("i",{staticClass:"icon-widget-text"}),t._v(" "),n("span",[t._v(t._s(e.label))])])])})],2)}),0)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._t("default"),t._v(" "),n("zone-item",{staticClass:"item-zone-empty",attrs:{nodeKey:t.nodeKey,layout:"new-row"}})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["wn-container-default",t.showHeader?"wn-container-border":"wn-con-border-custom"]},[n("div",{class:[t.showHeader?"wn-con-heading-default":"wn-con-heading-custom"]},[t._t("header"),t._v(" "),n("span",[t._v(t._s(t.title))])],2),t._v(" "),n("div",{class:[t.showHeader?"wn-container-content":"wn-con-content-custom"]},[t._t("default")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.pageType!==t.dialogMode?n("div",{staticClass:"editor-preview-bg"},[n("div",{staticClass:"editor-preivew-header"},[n("el-button",{attrs:{type:"success",size:"small"},on:{click:t.close}},[t._v("关闭预览")])],1),t._v(" "),n("div",{staticClass:"editor-preivew-page",style:"width:"+t.width+"px"},[n("div",{attrs:{id:"pagePre"}})])]):n("div",{attrs:{id:"pagePre"}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  动态组件("+t._s(t.name)+")\n  "),n(t.name,{tag:"component"})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isColumn?n("el-col",{class:["editor-item",t.itemClass,t.dragCls],attrs:{span:t.span,nodekey:t.nodeKey,layout:t.layout},nativeOn:{click:function(e){return e.stopPropagation(),t.click(e)},mouseenter:function(e){t.mouseEnter=!0},mouseleave:function(e){t.mouseEnter=!1}}},[t._t("default"),t._v(" "),t.showDelete?n("div",{staticClass:"editor-item-footer"},[n("i",{staticClass:"el-icon-delete editor-button editor-icon-delete",attrs:{title:"删除"},on:{click:function(e){return e.stopPropagation(),t.deleteItem(t.compKey)}}})]):t._e()],2):n("div",{class:["editor-item",t.itemClass,t.focusCls,t.dragCls,t.displayCls],attrs:{nodeKey:t.nodeKey,layout:t.layout},on:{click:function(e){return e.stopPropagation(),t.click(e)},mouseenter:function(e){t.mouseEnter=!0},mouseleave:function(e){t.mouseEnter=!1}}},[t._t("default"),t._v(" "),t.showDelete?n("div",{staticClass:"editor-item-footer"},[n("i",{staticClass:"el-icon-delete editor-button editor-icon-delete",attrs:{title:"删除"},on:{click:function(e){return e.stopPropagation(),t.deleteItem(t.nodeKey)}}})]):t._e()],2)},staticRenderFns:[]}},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor-header",attrs:{id:"header"}},[t._m(0),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"editor-header-right"},[n("el-button",{attrs:{type:"success",size:"small"},on:{click:t.onSwitch}},[t._v("切换")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"editor-header-left"},[o("img",{attrs:{src:n(245),alt:"logo"}}),t._v(" "),o("span",[t._v("View Builder ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor-header-center"},[n("div",[n("dl",[n("dt",[n("i",{staticClass:"el-icon-document"})]),t._v(" "),n("dd",[t._v("文本")])]),t._v(" "),n("dl",[n("dt",[n("i",{staticClass:"el-icon-picture"})]),t._v(" "),n("dd",[t._v("图片")])]),t._v(" "),n("dl",[n("dt",[n("i",{staticClass:"el-icon-view"})]),t._v(" "),n("dd",[t._v("视频")])]),t._v(" "),n("dl",[n("dt",[n("i",{staticClass:"el-icon-setting"})]),t._v(" "),n("dd",[t._v("形状")])]),t._v(" "),n("dl",[n("dt",[n("i",{staticClass:"el-icon-menu"})]),t._v(" "),n("dd",[t._v("扩展")])])])])}]}},,,function(t,e){t.exports={input:[{event:"click",desc:"点击Input内图标时触发",param:"event",type:"@"},{event:"blur",desc:"失去焦点时触发",param:"event",type:"@"},{event:"focus",desc:"获得焦点时触发",param:"event",type:"@"},{event:"change",desc:"值改变时触发",param:"value",type:"@"}],select:[{event:"change",desc:"选中值发生变化时触发",param:"val",type:"@"},{event:"clear",desc:"点击清空按钮时触发",type:"@"}],button:[{event:"click",desc:"用户点击",type:"@"}],table:[{event:"row-class-name",desc:"行class回调",param:"row,index",type:":"},{event:"row-click",desc:"点击某一行",param:"row,event,column",type:"@"},{event:"current-change",desc:"选中行发生变化",param:"currentRow, oldRow",type:"@"}]}},function(t,e){t.exports={"button-type":["primary","success","warning","danger","info","text"],"input-type":["textarea"]}},function(t,e){t.exports={form:{tag:"el-form",options:[{prop:"label-width",value:"80px"}]},"form-item":{tag:"el-form-item"},"layout-row":{tag:"el-row"},"layout-col":{tag:"el-col"},"editor-layout-row":{tag:"editor-row"},"editor-layout-col":{tag:"ui-editor-item"},"editor-item":{tag:"ui-editor-item"},radio:{tag:"el-radio","v-for":["label","$slot"]},checkbox:{label:"多选框",tag:"el-checkbox"},option:{tag:"el-option",options:[{prop:"v-for",value:""}],"v-for":["label","value"]},dialog:{tag:"editor-dialog-container",options:[{prop:":visible.sync",value:"visible"},{prop:":title",value:"title"}]},"table-col":{tag:"el-table-column"}}}],[122]);
//# sourceMappingURL=app.js.map